{"version":3,"sources":["standard-class-factory.js"],"names":[],"mappings":";;;;;;;;;AAGA,IAAM,KAAK,QAAQ,WAAR,CAAL;AACN,IAAM,IAAI,QAAQ,QAAR,CAAJ;;IAEA;;;;;;;kDACwB,OAAM;AAC5B,gBAAI,OAAO,IAAP,CADwB;AAE5B,gBAAI,QAAQ,GAAG,KAAH,CAAS,IAAT,CAAc;uBAAG,EAAE,KAAF,KAAY,KAAZ;aAAH,CAAtB,CAFwB;AAG5B,oBAAQ;AACJ,uBAAO,MAAM,KAAN;AACP,yBAAS,MAAM,OAAN;AACT,yBAAS,MAAM,OAAN;AACT,6BAAa,EAAC,CAAG,IAAH,CAAQ,IAAR,CAAa;2BAAQ,KAAK,KAAL,KAAe,MAAM,SAAN;iBAAvB,CAAd,CAAuD,OAAvD;AACb,0BAAU,GAAG,QAAH,CAAY,IAAZ,CAAiB;2BAAY,SAAS,KAAT,KAAmB,MAAM,KAAN;iBAA/B,CAA3B;AACA,0BAAU,EAAE,MAAF,CAAS,GAAG,WAAH,EAAgB,UAAC,GAAD;2BAAQ,IAAI,KAAJ,KAAc,MAAM,KAAN;iBAAtB,CAAzB,IAA6D,EAA7D;AACV,2BAAW,EAAE,MAAF,CAAS,GAAG,YAAH,EAAiB;2BAAO,IAAI,KAAJ,KAAc,MAAM,KAAN;iBAArB,CAA1B,CAA4D,GAA5D,CAAgE,eAAM;AAC7E,wBAAI,UAAU,EAAV,CADyE;AAE7E,4BAAQ,IAAR,GAAe,EAAE,IAAF,CAAO,GAAG,IAAH,EAAS;+BAAO,KAAK,KAAL,KAAe,IAAI,KAAJ;qBAAtB,CAA/B,CAF6E;AAG7E,sBAAE,MAAF,CAAS,OAAT,EAAkB,GAAlB,EAH6E;AAI7E,2BAAO,OAAP,CAJ6E;iBAAN,CAAhE,IAKP,EALO;AAMX,yBAAU,KAAK,kBAAL,CAAwB,MAAM,SAAN,CAAlC;;aAbJ,CAH4B;;AAqB5B,mBAAO,KAAP,CArB4B;;;;2CAwBb,OAAM;AACrB,gBAAI,OAAO,GAAG,IAAH,CAAQ,IAAR,CAAa;uBAAK,IAAI,KAAJ,KAAY,KAAZ;aAAL,CAApB,CADiB;AAErB,gBAAI,OAAO;AACP,uBAAM,KAAK,KAAL;AACN,yBAAQ,KAAK,OAAL;AACR,yBAAQ,KAAK,OAAL;aAHR,CAFiB;;AAQrB,mBAAO,IAAP,CARqB;;;;WAzBvB;;;AAuCN,OAAO,OAAP,GAAiB,IAAI,oBAAJ,EAAjB","file":"standard-class-factory.js","sourcesContent":["/**\n * Created by Zizy on 4/18/16.\n */\nconst db = require('./mock-db');\nconst _ = require('lodash');\n\nclass StandardClassFactory {\n    createClassGroupByGroupId(grpId){\n        let that = this;\n        let group = db.GROUP.find(g=>g.grpId === grpId);\n        group = {\n            grpId: group.grpId,\n            grpAddr: group.grpAddr,\n            grpTime: group.grpTime,\n            grpHostName: (db.USER.find(user => user.usrId === group.grpHostId)).usrName,\n            merchant: db.MERCHANT.find(merchant => merchant.metId === group.metId),\n            grpOrder: _.filter(db.GROUP_ORDER, (grr)=> grr.grpId === group.grpId)||[],\n            grpDishes: _.filter(db.GROUP_DISHES, grh => grh.grpId === group.grpId).map(grh=> {\n                let grpDish = {};\n                grpDish.dish = _.find(db.DISH, dish=> dish.dihId === grh.dihId);\n                _.assign(grpDish, grh);\n                return grpDish;\n            })||[],\n            grpHost : that.createUserByUserId(group.grpHostId),\n\n\n        };\n\n        return group;\n    }\n\n    createUserByUserId(usrId){\n        let _usr = db.USER.find(usr=>usr.usrId===usrId);\n        let user = {\n            usrId:_usr.usrId,\n            usrName:_usr.usrName,\n            usrMobi:_usr.usrMobi,\n        };\n\n        return user;\n    }\n\n}\n\n\nmodule.exports = new StandardClassFactory();"],"sourceRoot":"/source/"}